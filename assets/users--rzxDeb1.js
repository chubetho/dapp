import{d as _,o as u,j as i,C as k,r as f,n as b,u as l,g as p,K as H,a as B,w as t,ai as J,f as e,m as D,aj as L,y as z,a2 as I,q as P,s as E,v as G,a0 as K,a3 as M,G as O,A as c,F as Q,z as g,B as W}from"./index-CnjvNhTO.js";import{C as X,_ as Y}from"./BaseSearch.vue_vue_type_script_setup_true_lang-IzUr7uy7.js";import"./Input.vue_vue_type_script_setup_true_lang-wAsHV3Sl.js";import"./Label.vue_vue_type_script_setup_true_lang-7dWBoaux.js";const Z={class:"w-full overflow-auto"},ee=_({__name:"Table",props:{class:{}},setup(o){const s=o;return(a,r)=>(u(),i("div",Z,[k("table",{class:b(l(p)("w-full caption-bottom text-sm",s.class))},[f(a.$slots,"default")],2)]))}}),se=_({__name:"TableBody",props:{class:{}},setup(o){const s=o;return(a,r)=>(u(),i("tbody",{class:b(l(p)("[&_tr:last-child]:border-0",s.class))},[f(a.$slots,"default")],2))}}),te=_({__name:"TableCell",props:{class:{}},setup(o){const s=o;return(a,r)=>(u(),i("td",{class:b(l(p)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s.class))},[f(a.$slots,"default")],2))}}),ae=_({__name:"Checkbox",props:{defaultChecked:{type:Boolean},checked:{type:[Boolean,String]},disabled:{type:Boolean},required:{type:Boolean},name:{},value:{},id:{},asChild:{type:Boolean},as:{}},emits:["update:checked"],setup(o,{emit:s}){const v=H(o,s);return(C,y)=>(u(),B(l(L),D(l(v),{class:l(p)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",C.$attrs.class??"")}),{default:t(()=>[e(l(J),{class:"flex h-full w-full items-center justify-center text-current"},{default:t(()=>[e(l(X),{class:"h-4 w-4"})]),_:1})]),_:1},16,["class"]))}}),oe=_({__name:"TableHeader",props:{class:{}},setup(o){const s=o;return(a,r)=>(u(),i("thead",{class:b(l(p)("[&_tr]:border-b",s.class))},[f(a.$slots,"default")],2))}}),le=_({__name:"TableRow",props:{class:{}},setup(o){const s=o;return(a,r)=>(u(),i("tr",{class:b(l(p)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s.class))},[f(a.$slots,"default")],2))}}),ne=_({__name:"TableHead",props:{class:{}},setup(o){const s=o;return(a,r)=>(u(),i("th",{class:b(l(p)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s.class))},[f(a.$slots,"default")],2))}}),re=_({__name:"TableCaption",props:{class:{}},setup(o){const s=o;return(a,r)=>(u(),i("caption",{class:b(l(p)("mt-4 text-sm text-muted-foreground",s.class))},[f(a.$slots,"default")],2))}}),ce={class:"py-10"},ue={class:"py-8 space-y-8"},de=k("h1",{class:"text-4xl"}," users ",-1),fe=_({__name:"users",async setup(o){let s,a;const r=z(""),v=I(r,500),C=P(),y=([s,a]=E(()=>C.getUserFactory()),s=await s,a(),s),$=G([]),T=K(()=>v.value?$.value.filter(m=>m.userName.toLowerCase().includes(v.value.toLowerCase())):$.value);async function N(){const m=await y.getAllUserAddresses();$.value=(await Promise.all(m.map(n=>y.getUser(n)))).map(n=>({owner:n[0],userName:n[1],isJudge:n[2],jobIds:n[3].map(Number),reviewsBuyerCount:Number(n[4]),reviewSellerCount:Number(n[5])}))}M(()=>{N()});async function U(m,n){n?await y.setJudge(m):await y.unsetJudge(m)}return(m,n)=>{const S=Y,j=re,h=ne,x=le,V=oe,R=ae,w=te,q=se,A=ee;return u(),i("div",null,[k("div",ce,[e(S,{modelValue:l(r),"onUpdate:modelValue":n[0]||(n[0]=d=>O(r)?r.value=d:null),placeholder:"search for username or keyword"},null,8,["modelValue"])]),k("div",ue,[de,e(A,null,{default:t(()=>[e(j,null,{default:t(()=>[c("a list of all users")]),_:1}),e(V,null,{default:t(()=>[e(x,null,{default:t(()=>[e(h,{class:""},{default:t(()=>[c(" reviewer ")]),_:1}),e(h,null,{default:t(()=>[c("username")]),_:1}),e(h,null,{default:t(()=>[c("address")]),_:1}),e(h,null,{default:t(()=>[c("jobs posted")]),_:1}),e(h,null,{default:t(()=>[c("sellers reviewed")]),_:1}),e(h,null,{default:t(()=>[c("buyers reviewed")]),_:1})]),_:1})]),_:1}),e(q,null,{default:t(()=>[(u(!0),i(Q,null,W(l(T),d=>(u(),B(x,{key:d.userName},{default:t(()=>[e(w,{class:""},{default:t(()=>[e(R,{"default-checked":d.isJudge,"onUpdate:checked":F=>U(d.owner,F)},null,8,["default-checked","onUpdate:checked"])]),_:2},1024),e(w,{class:"font-medium"},{default:t(()=>[c(g(d.userName),1)]),_:2},1024),e(w,{class:"tracking-wider"},{default:t(()=>[c(g(d.owner),1)]),_:2},1024),e(w,null,{default:t(()=>[c(g(d.jobIds.length),1)]),_:2},1024),e(w,null,{default:t(()=>[c(g(d.reviewSellerCount),1)]),_:2},1024),e(w,null,{default:t(()=>[c(g(d.reviewsBuyerCount),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])}}});export{fe as default};
